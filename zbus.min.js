!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t){var n,r,o,s=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function a(e){return s.lastIndex=0,s.test(e)?'"'+e.replace(s,function(e){var t=i[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}e.exports=function(e,t,s){var i;if(n="",r="","number"==typeof s)for(i=0;i<s;i+=1)r+=" ";else"string"==typeof s&&(r=s);if(o=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return function e(t,s){var i,u,l,h,c,f=n,d=s[t];switch(d&&"object"==typeof d&&"function"==typeof d.toJSON&&(d=d.toJSON(t)),"function"==typeof o&&(d=o.call(s,t,d)),typeof d){case"string":return a(d);case"number":return isFinite(d)?String(d):"null";case"boolean":case"null":return String(d);case"object":if(!d)return"null";if(n+=r,c=[],"[object Array]"===Object.prototype.toString.apply(d)){for(h=d.length,i=0;i<h;i+=1)c[i]=e(i,d)||"null";return l=0===c.length?"[]":n?"[\n"+n+c.join(",\n"+n)+"\n"+f+"]":"["+c.join(",")+"]",n=f,l}if(o&&"object"==typeof o)for(h=o.length,i=0;i<h;i+=1)"string"==typeof(u=o[i])&&(l=e(u,d))&&c.push(a(u)+(n?": ":":")+l);else for(u in d)Object.prototype.hasOwnProperty.call(d,u)&&(l=e(u,d))&&c.push(a(u)+(n?": ":":")+l);return l=0===c.length?"{}":n?"{\n"+n+c.join(",\n"+n)+"\n"+f+"}":"{"+c.join(",")+"}",n=f,l}}("",{"":e})}},function(e,t){var n,r,o,s,i={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},a=function(e){throw{name:"SyntaxError",message:e,at:n,text:o}},u=function(e){return e&&e!==r&&a("Expected '"+e+"' instead of '"+r+"'"),r=o.charAt(n),n+=1,r},l=function(){var e,t="";for("-"===r&&(t="-",u("-"));r>="0"&&r<="9";)t+=r,u();if("."===r)for(t+=".";u()&&r>="0"&&r<="9";)t+=r;if("e"===r||"E"===r)for(t+=r,u(),"-"!==r&&"+"!==r||(t+=r,u());r>="0"&&r<="9";)t+=r,u();if(e=+t,isFinite(e))return e;a("Bad number")},h=function(){var e,t,n,o="";if('"'===r)for(;u();){if('"'===r)return u(),o;if("\\"===r)if(u(),"u"===r){for(n=0,t=0;t<4&&(e=parseInt(u(),16),isFinite(e));t+=1)n=16*n+e;o+=String.fromCharCode(n)}else{if("string"!=typeof i[r])break;o+=i[r]}else o+=r}a("Bad string")},c=function(){for(;r&&r<=" ";)u()};s=function(){switch(c(),r){case"{":return function(){var e,t={};if("{"===r){if(u("{"),c(),"}"===r)return u("}"),t;for(;r;){if(e=h(),c(),u(":"),Object.hasOwnProperty.call(t,e)&&a('Duplicate key "'+e+'"'),t[e]=s(),c(),"}"===r)return u("}"),t;u(","),c()}}a("Bad object")}();case"[":return function(){var e=[];if("["===r){if(u("["),c(),"]"===r)return u("]"),e;for(;r;){if(e.push(s()),c(),"]"===r)return u("]"),e;u(","),c()}}a("Bad array")}();case'"':return h();case"-":return l();default:return r>="0"&&r<="9"?l():function(){switch(r){case"t":return u("t"),u("r"),u("u"),u("e"),!0;case"f":return u("f"),u("a"),u("l"),u("s"),u("e"),!1;case"n":return u("n"),u("u"),u("l"),u("l"),null}a("Unexpected '"+r+"'")}()}},e.exports=function(e,t){var i;return o=e,n=0,r=" ",i=s(),c(),r&&a("Syntax error"),"function"==typeof t?function e(n,r){var o,s,i=n[r];if(i&&"object"==typeof i)for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(void 0!==(s=e(i,o))?i[o]=s:delete i[o]);return t.call(n,r,i)}({"":i},""):i}},function(e,t,n){t.parse=n(1),t.stringify=n(0)},function(e,t,n){var r="undefined"!=typeof JSON?JSON:n(2);e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n=t.space||"";"number"==typeof n&&(n=Array(n+1).join(" "));var i="boolean"==typeof t.cycles&&t.cycles,a=t.replacer||function(e,t){return t},u=t.cmp&&function(e){return function(t){return function(n,r){var o={key:n,value:t[n]},s={key:r,value:t[r]};return e(o,s)}}}(t.cmp),l=[];return function e(t,h,c,f){var d=n?"\n"+new Array(f+1).join(n):"",p=n?": ":":";if(c&&c.toJSON&&"function"==typeof c.toJSON&&(c=c.toJSON()),void 0!==(c=a.call(t,h,c))){if("object"!=typeof c||null===c)return r.stringify(c);if(o(c)){for(var w=[],b=0;b<c.length;b++){var y=e(c,b,c[b],f+1)||r.stringify(null);w.push(d+n+y)}return"["+w.join(",")+d+"]"}if(-1!==l.indexOf(c)){if(i)return r.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}l.push(c);var g=s(c).sort(u&&u(c));for(w=[],b=0;b<g.length;b++){var v=e(c,h=g[b],c[h],f+1);if(v){var m=r.stringify(h)+p+v;w.push(d+n+m)}}return l.splice(l.indexOf(c),1),"{"+w.join(",")+d+"}"}}({"":e},"",e,0)};var o=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},s=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return!0},n=[];for(var r in e)t.call(e,r)&&n.push(r);return n}},function(e,t,n){"use strict";var r;!function(o){function s(e,t,n){var r,o,s,i,d,p,w,b,y,g=0,v=[],m=0,x=!1,E=[],A=[],S=!1,k=!1,H=-1;if(r=(n=n||{}).encoding||"UTF8",(y=n.numRounds||1)!==parseInt(y,10)||1>y)throw Error("numRounds must a integer >= 1");if("SHA-1"===e)d=512,p=B,w=K,i=160,b=function(e){return e.slice()};else if(0===e.lastIndexOf("SHA-",0))if(p=function(t,n){return I(t,n,e)},w=function(t,n,r,o){var s,i;if("SHA-224"===e||"SHA-256"===e)s=15+(n+65>>>9<<4),i=16;else{if("SHA-384"!==e&&"SHA-512"!==e)throw Error("Unexpected error in SHA-2 implementation");s=31+(n+129>>>10<<5),i=32}for(;t.length<=s;)t.push(0);for(t[n>>>5]|=128<<24-n%32,n+=r,t[s]=4294967295&n,t[s-1]=n/4294967296|0,r=t.length,n=0;n<r;n+=i)o=I(t.slice(n,n+i),o,e);if("SHA-224"===e)t=[o[0],o[1],o[2],o[3],o[4],o[5],o[6]];else if("SHA-256"===e)t=o;else if("SHA-384"===e)t=[o[0].a,o[0].b,o[1].a,o[1].b,o[2].a,o[2].b,o[3].a,o[3].b,o[4].a,o[4].b,o[5].a,o[5].b];else{if("SHA-512"!==e)throw Error("Unexpected error in SHA-2 implementation");t=[o[0].a,o[0].b,o[1].a,o[1].b,o[2].a,o[2].b,o[3].a,o[3].b,o[4].a,o[4].b,o[5].a,o[5].b,o[6].a,o[6].b,o[7].a,o[7].b]}return t},b=function(e){return e.slice()},"SHA-224"===e)d=512,i=224;else if("SHA-256"===e)d=512,i=256;else if("SHA-384"===e)d=1024,i=384;else{if("SHA-512"!==e)throw Error("Chosen SHA variant is not supported");d=1024,i=512}else{if(0!==e.lastIndexOf("SHA3-",0)&&0!==e.lastIndexOf("SHAKE",0))throw Error("Chosen SHA variant is not supported");var P=6;if(p=_,b=function(e){var t,n=[];for(t=0;5>t;t+=1)n[t]=e[t].slice();return n},H=1,"SHA3-224"===e)d=1152,i=224;else if("SHA3-256"===e)d=1088,i=256;else if("SHA3-384"===e)d=832,i=384;else if("SHA3-512"===e)d=576,i=512;else if("SHAKE128"===e)d=1344,i=-1,P=31,k=!0;else{if("SHAKE256"!==e)throw Error("Chosen SHA variant is not supported");d=1088,i=-1,P=31,k=!0}w=function(e,t,n,r,o){var s,i=P,a=[],u=(n=d)>>>5,l=0,h=t>>>5;for(s=0;s<h&&t>=n;s+=u)r=_(e.slice(s,s+u),r),t-=n;for(e=e.slice(s),t%=n;e.length<u;)e.push(0);for(e[(s=t>>>3)>>2]^=i<<s%4*8,e[u-1]^=2147483648,r=_(e,r);32*a.length<o&&(e=r[l%5][l/5|0],a.push(e.b),!(32*a.length>=o));)a.push(e.a),0==64*(l+=1)%n&&_(null,r);return a}}s=f(t,r,H),o=q(e),this.setHMACKey=function(t,n,s){var a;if(!0===x)throw Error("HMAC key already set");if(!0===S)throw Error("Cannot set HMAC key after calling update");if(!0===k)throw Error("SHAKE is not supported for HMAC");if(t=(n=f(n,r=(s||{}).encoding||"UTF8",H)(t)).binLen,n=n.value,s=(a=d>>>3)/4-1,a<t/8){for(n=w(n,t,0,q(e),i);n.length<=s;)n.push(0);n[s]&=4294967040}else if(a>t/8){for(;n.length<=s;)n.push(0);n[s]&=4294967040}for(t=0;t<=s;t+=1)E[t]=909522486^n[t],A[t]=1549556828^n[t];o=p(E,o),g=d,x=!0},this.update=function(e){var t,n,r,i=0,a=d>>>5;for(e=(t=s(e,v,m)).binLen,n=t.value,t=e>>>5,r=0;r<t;r+=a)i+d<=e&&(o=p(n.slice(r,r+a),o),i+=d);g+=i,v=n.slice(i>>>5),m=e%d,S=!0},this.getHash=function(t,n){var r,s,f,d;if(!0===x)throw Error("Cannot call getHash after setting HMAC key");if(f=c(n),!0===k){if(-1===f.shakeLen)throw Error("shakeLen must be specified in options");i=f.shakeLen}switch(t){case"HEX":r=function(e){return a(e,i,H,f)};break;case"B64":r=function(e){return u(e,i,H,f)};break;case"BYTES":r=function(e){return l(e,i,H)};break;case"ARRAYBUFFER":try{s=new ArrayBuffer(0)}catch(e){throw Error("ARRAYBUFFER not supported by this environment")}r=function(e){return h(e,i,H)};break;default:throw Error("format must be HEX, B64, BYTES, or ARRAYBUFFER")}for(d=w(v.slice(),m,g,b(o),i),s=1;s<y;s+=1)!0===k&&0!=i%32&&(d[d.length-1]&=16777215>>>24-i%32),d=w(d,i,0,q(e),i);return r(d)},this.getHMAC=function(t,n){var r,s,f,y;if(!1===x)throw Error("Cannot call getHMAC without first setting HMAC key");switch(f=c(n),t){case"HEX":r=function(e){return a(e,i,H,f)};break;case"B64":r=function(e){return u(e,i,H,f)};break;case"BYTES":r=function(e){return l(e,i,H)};break;case"ARRAYBUFFER":try{r=new ArrayBuffer(0)}catch(e){throw Error("ARRAYBUFFER not supported by this environment")}r=function(e){return h(e,i,H)};break;default:throw Error("outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER")}return s=w(v.slice(),m,g,b(o),i),y=p(A,q(e)),r(y=w(s,i,d,y,i))}}function i(e,t){this.a=e,this.b=t}function a(e,t,n,r){var o,s,i,a="";for(t/=8,i=-1===n?3:0,o=0;o<t;o+=1)s=e[o>>>2]>>>8*(i+o%4*n),a+="0123456789abcdef".charAt(s>>>4&15)+"0123456789abcdef".charAt(15&s);return r.outputUpper?a.toUpperCase():a}function u(e,t,n,r){var o,s,i,a,u="",l=t/8;for(a=-1===n?3:0,o=0;o<l;o+=3)for(s=o+1<l?e[o+1>>>2]:0,i=o+2<l?e[o+2>>>2]:0,i=(e[o>>>2]>>>8*(a+o%4*n)&255)<<16|(s>>>8*(a+(o+1)%4*n)&255)<<8|i>>>8*(a+(o+2)%4*n)&255,s=0;4>s;s+=1)u+=8*o+6*s<=t?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i>>>6*(3-s)&63):r.b64Pad;return u}function l(e,t,n){var r,o,s,i="";for(t/=8,s=-1===n?3:0,r=0;r<t;r+=1)o=e[r>>>2]>>>8*(s+r%4*n)&255,i+=String.fromCharCode(o);return i}function h(e,t,n){t/=8;var r,o,s,i=new ArrayBuffer(t);for(s=new Uint8Array(i),o=-1===n?3:0,r=0;r<t;r+=1)s[r]=e[r>>>2]>>>8*(o+r%4*n)&255;return i}function c(e){var t={outputUpper:!1,b64Pad:"=",shakeLen:-1};if(e=e||{},t.outputUpper=e.outputUpper||!1,!0===e.hasOwnProperty("b64Pad")&&(t.b64Pad=e.b64Pad),!0===e.hasOwnProperty("shakeLen")){if(0!=e.shakeLen%8)throw Error("shakeLen must be a multiple of 8");t.shakeLen=e.shakeLen}if("boolean"!=typeof t.outputUpper)throw Error("Invalid outputUpper formatting option");if("string"!=typeof t.b64Pad)throw Error("Invalid b64Pad formatting option");return t}function f(e,t,n){switch(t){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(e){case"HEX":e=function(e,t,r){var o,s,i,a,u,l,h=e.length;if(0!=h%2)throw Error("String of HEX type must be in byte increments");for(t=t||[0],u=(r=r||0)>>>3,l=-1===n?3:0,o=0;o<h;o+=2){if(s=parseInt(e.substr(o,2),16),isNaN(s))throw Error("String of HEX type contains invalid characters");for(i=(a=(o>>>1)+u)>>>2;t.length<=i;)t.push(0);t[i]|=s<<8*(l+a%4*n)}return{value:t,binLen:4*h+r}};break;case"TEXT":e=function(e,r,o){var s,i,a,u,l,h,c,f,d=0;if(r=r||[0],l=(o=o||0)>>>3,"UTF8"===t)for(f=-1===n?3:0,a=0;a<e.length;a+=1)for(i=[],128>(s=e.charCodeAt(a))?i.push(s):2048>s?(i.push(192|s>>>6),i.push(128|63&s)):55296>s||57344<=s?i.push(224|s>>>12,128|s>>>6&63,128|63&s):(a+=1,s=65536+((1023&s)<<10|1023&e.charCodeAt(a)),i.push(240|s>>>18,128|s>>>12&63,128|s>>>6&63,128|63&s)),u=0;u<i.length;u+=1){for(h=(c=d+l)>>>2;r.length<=h;)r.push(0);r[h]|=i[u]<<8*(f+c%4*n),d+=1}else if("UTF16BE"===t||"UTF16LE"===t)for(f=-1===n?2:0,i="UTF16LE"===t&&1!==n||"UTF16LE"!==t&&1===n,a=0;a<e.length;a+=1){for(s=e.charCodeAt(a),!0===i&&(s=(u=255&s)<<8|s>>>8),h=(c=d+l)>>>2;r.length<=h;)r.push(0);r[h]|=s<<8*(f+c%4*n),d+=2}return{value:r,binLen:8*d+o}};break;case"B64":e=function(e,t,r){var o,s,i,a,u,l,h,c,f=0;if(-1===e.search(/^[a-zA-Z0-9=+\/]+$/))throw Error("Invalid character in base-64 string");if(s=e.indexOf("="),e=e.replace(/\=/g,""),-1!==s&&s<e.length)throw Error("Invalid '=' found in base-64 string");for(t=t||[0],l=(r=r||0)>>>3,c=-1===n?3:0,s=0;s<e.length;s+=4){for(u=e.substr(s,4),i=a=0;i<u.length;i+=1)a|=(o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(u[i]))<<18-6*i;for(i=0;i<u.length-1;i+=1){for(o=(h=f+l)>>>2;t.length<=o;)t.push(0);t[o]|=(a>>>16-8*i&255)<<8*(c+h%4*n),f+=1}}return{value:t,binLen:8*f+r}};break;case"BYTES":e=function(e,t,r){var o,s,i,a,u,l;for(t=t||[0],i=(r=r||0)>>>3,l=-1===n?3:0,s=0;s<e.length;s+=1)o=e.charCodeAt(s),a=(u=s+i)>>>2,t.length<=a&&t.push(0),t[a]|=o<<8*(l+u%4*n);return{value:t,binLen:8*e.length+r}};break;case"ARRAYBUFFER":try{e=new ArrayBuffer(0)}catch(e){throw Error("ARRAYBUFFER not supported by this environment")}e=function(e,t,r){var o,s,i,a,u,l;for(t=t||[0],s=(r=r||0)>>>3,u=-1===n?3:0,l=new Uint8Array(e),o=0;o<e.byteLength;o+=1)i=(a=o+s)>>>2,t.length<=i&&t.push(0),t[i]|=l[o]<<8*(u+a%4*n);return{value:t,binLen:8*e.byteLength+r}};break;default:throw Error("format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER")}return e}function d(e,t){return e<<t|e>>>32-t}function p(e,t){return 32<t?(t-=32,new i(e.b<<t|e.a>>>32-t,e.a<<t|e.b>>>32-t)):0!==t?new i(e.a<<t|e.b>>>32-t,e.b<<t|e.a>>>32-t):e}function w(e,t){return e>>>t|e<<32-t}function b(e,t){var n=null;n=new i(e.a,e.b);return 32>=t?new i(n.a>>>t|n.b<<32-t&4294967295,n.b>>>t|n.a<<32-t&4294967295):new i(n.b>>>t-32|n.a<<64-t&4294967295,n.a>>>t-32|n.b<<64-t&4294967295)}function y(e,t){return 32>=t?new i(e.a>>>t,e.b>>>t|e.a<<32-t&4294967295):new i(0,e.a>>>t-32)}function g(e,t,n){return e&t^~e&n}function v(e,t,n){return new i(e.a&t.a^~e.a&n.a,e.b&t.b^~e.b&n.b)}function m(e,t,n){return e&t^e&n^t&n}function x(e,t,n){return new i(e.a&t.a^e.a&n.a^t.a&n.a,e.b&t.b^e.b&n.b^t.b&n.b)}function E(e){return w(e,2)^w(e,13)^w(e,22)}function A(e){var t=b(e,28),n=b(e,34);return e=b(e,39),new i(t.a^n.a^e.a,t.b^n.b^e.b)}function S(e){return w(e,6)^w(e,11)^w(e,25)}function k(e){var t=b(e,14),n=b(e,18);return e=b(e,41),new i(t.a^n.a^e.a,t.b^n.b^e.b)}function H(e){return w(e,7)^w(e,18)^e>>>3}function P(e){var t=b(e,1),n=b(e,8);return e=y(e,7),new i(t.a^n.a^e.a,t.b^n.b^e.b)}function R(e){return w(e,17)^w(e,19)^e>>>10}function M(e){var t=b(e,19),n=b(e,61);return e=y(e,6),new i(t.a^n.a^e.a,t.b^n.b^e.b)}function O(e,t){var n=(65535&e)+(65535&t);return((e>>>16)+(t>>>16)+(n>>>16)&65535)<<16|65535&n}function T(e,t,n,r){var o=(65535&e)+(65535&t)+(65535&n)+(65535&r);return((e>>>16)+(t>>>16)+(n>>>16)+(r>>>16)+(o>>>16)&65535)<<16|65535&o}function C(e,t,n,r,o){var s=(65535&e)+(65535&t)+(65535&n)+(65535&r)+(65535&o);return((e>>>16)+(t>>>16)+(n>>>16)+(r>>>16)+(o>>>16)+(s>>>16)&65535)<<16|65535&s}function U(e,t){var n,r,o;return n=(65535&e.b)+(65535&t.b),o=(65535&(r=(e.b>>>16)+(t.b>>>16)+(n>>>16)))<<16|65535&n,n=(65535&e.a)+(65535&t.a)+(r>>>16),new i((65535&(r=(e.a>>>16)+(t.a>>>16)+(n>>>16)))<<16|65535&n,o)}function F(e,t,n,r){var o,s,a;return o=(65535&e.b)+(65535&t.b)+(65535&n.b)+(65535&r.b),a=(65535&(s=(e.b>>>16)+(t.b>>>16)+(n.b>>>16)+(r.b>>>16)+(o>>>16)))<<16|65535&o,o=(65535&e.a)+(65535&t.a)+(65535&n.a)+(65535&r.a)+(s>>>16),new i((65535&(s=(e.a>>>16)+(t.a>>>16)+(n.a>>>16)+(r.a>>>16)+(o>>>16)))<<16|65535&o,a)}function j(e,t,n,r,o){var s,a,u;return s=(65535&e.b)+(65535&t.b)+(65535&n.b)+(65535&r.b)+(65535&o.b),u=(65535&(a=(e.b>>>16)+(t.b>>>16)+(n.b>>>16)+(r.b>>>16)+(o.b>>>16)+(s>>>16)))<<16|65535&s,s=(65535&e.a)+(65535&t.a)+(65535&n.a)+(65535&r.a)+(65535&o.a)+(a>>>16),new i((65535&(a=(e.a>>>16)+(t.a>>>16)+(n.a>>>16)+(r.a>>>16)+(o.a>>>16)+(s>>>16)))<<16|65535&s,u)}function N(e,t){return new i(e.a^t.a,e.b^t.b)}function q(e){var t,n=[];if("SHA-1"===e)n=[1732584193,4023233417,2562383102,271733878,3285377520];else if(0===e.lastIndexOf("SHA-",0))switch(n=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],t=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],e){case"SHA-224":break;case"SHA-256":n=t;break;case"SHA-384":n=[new i(3418070365,n[0]),new i(1654270250,n[1]),new i(2438529370,n[2]),new i(355462360,n[3]),new i(1731405415,n[4]),new i(41048885895,n[5]),new i(3675008525,n[6]),new i(1203062813,n[7])];break;case"SHA-512":n=[new i(t[0],4089235720),new i(t[1],2227873595),new i(t[2],4271175723),new i(t[3],1595750129),new i(t[4],2917565137),new i(t[5],725511199),new i(t[6],4215389547),new i(t[7],327033209)];break;default:throw Error("Unknown SHA variant")}else{if(0!==e.lastIndexOf("SHA3-",0)&&0!==e.lastIndexOf("SHAKE",0))throw Error("No SHA variants supported");for(e=0;5>e;e+=1)n[e]=[new i(0,0),new i(0,0),new i(0,0),new i(0,0),new i(0,0)]}return n}function B(e,t){var n,r,o,s,i,a,u,l=[];for(n=t[0],r=t[1],o=t[2],s=t[3],i=t[4],u=0;80>u;u+=1)l[u]=16>u?e[u]:d(l[u-3]^l[u-8]^l[u-14]^l[u-16],1),a=20>u?C(d(n,5),r&o^~r&s,i,1518500249,l[u]):40>u?C(d(n,5),r^o^s,i,1859775393,l[u]):60>u?C(d(n,5),m(r,o,s),i,2400959708,l[u]):C(d(n,5),r^o^s,i,3395469782,l[u]),i=s,s=o,o=d(r,30),r=n,n=a;return t[0]=O(n,t[0]),t[1]=O(r,t[1]),t[2]=O(o,t[2]),t[3]=O(s,t[3]),t[4]=O(i,t[4]),t}function K(e,t,n,r){var o;for(o=15+(t+65>>>9<<4);e.length<=o;)e.push(0);for(e[t>>>5]|=128<<24-t%32,t+=n,e[o]=4294967295&t,e[o-1]=t/4294967296|0,t=e.length,o=0;o<t;o+=16)r=B(e.slice(o,o+16),r);return r}function I(e,t,n){var r,o,s,a,u,l,h,c,f,d,p,w,b,y,N,q,B,K,I,_,Y,W,X,D=[];if("SHA-224"===n||"SHA-256"===n)d=64,w=1,W=Number,b=O,y=T,N=C,q=H,B=R,K=E,I=S,Y=m,_=g,X=L;else{if("SHA-384"!==n&&"SHA-512"!==n)throw Error("Unexpected error in SHA-2 implementation");d=80,w=2,W=i,b=U,y=F,N=j,q=P,B=M,K=A,I=k,Y=x,_=v,X=J}for(n=t[0],r=t[1],o=t[2],s=t[3],a=t[4],u=t[5],l=t[6],h=t[7],p=0;p<d;p+=1)16>p?(f=p*w,c=e.length<=f?0:e[f],f=e.length<=f+1?0:e[f+1],D[p]=new W(c,f)):D[p]=y(B(D[p-2]),D[p-7],q(D[p-15]),D[p-16]),c=N(h,I(a),_(a,u,l),X[p],D[p]),f=b(K(n),Y(n,r,o)),h=l,l=u,u=a,a=b(s,c),s=o,o=r,r=n,n=b(c,f);return t[0]=b(n,t[0]),t[1]=b(r,t[1]),t[2]=b(o,t[2]),t[3]=b(s,t[3]),t[4]=b(a,t[4]),t[5]=b(u,t[5]),t[6]=b(l,t[6]),t[7]=b(h,t[7]),t}function _(e,t){var n,r,o,s,a=[],u=[];if(null!==e)for(r=0;r<e.length;r+=2)t[(r>>>1)%5][(r>>>1)/5|0]=N(t[(r>>>1)%5][(r>>>1)/5|0],new i(e[r+1],e[r]));for(n=0;24>n;n+=1){for(s=q("SHA3-"),r=0;5>r;r+=1){o=t[r][0];var l=t[r][1],h=t[r][2],c=t[r][3],f=t[r][4];a[r]=new i(o.a^l.a^h.a^c.a^f.a,o.b^l.b^h.b^c.b^f.b)}for(r=0;5>r;r+=1)u[r]=N(a[(r+4)%5],p(a[(r+1)%5],1));for(r=0;5>r;r+=1)for(o=0;5>o;o+=1)t[r][o]=N(t[r][o],u[r]);for(r=0;5>r;r+=1)for(o=0;5>o;o+=1)s[o][(2*r+3*o)%5]=p(t[r][o],Y[r][o]);for(r=0;5>r;r+=1)for(o=0;5>o;o+=1)t[r][o]=N(s[r][o],new i(~s[(r+1)%5][o].a&s[(r+2)%5][o].a,~s[(r+1)%5][o].b&s[(r+2)%5][o].b));t[0][0]=N(t[0][0],W[n])}return t}var L,J,Y,W;J=[new i((L=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298])[0],3609767458),new i(L[1],602891725),new i(L[2],3964484399),new i(L[3],2173295548),new i(L[4],4081628472),new i(L[5],3053834265),new i(L[6],2937671579),new i(L[7],3664609560),new i(L[8],2734883394),new i(L[9],1164996542),new i(L[10],1323610764),new i(L[11],3590304994),new i(L[12],4068182383),new i(L[13],991336113),new i(L[14],633803317),new i(L[15],3479774868),new i(L[16],2666613458),new i(L[17],944711139),new i(L[18],2341262773),new i(L[19],2007800933),new i(L[20],1495990901),new i(L[21],1856431235),new i(L[22],3175218132),new i(L[23],2198950837),new i(L[24],3999719339),new i(L[25],766784016),new i(L[26],2566594879),new i(L[27],3203337956),new i(L[28],1034457026),new i(L[29],2466948901),new i(L[30],3758326383),new i(L[31],168717936),new i(L[32],1188179964),new i(L[33],1546045734),new i(L[34],1522805485),new i(L[35],2643833823),new i(L[36],2343527390),new i(L[37],1014477480),new i(L[38],1206759142),new i(L[39],344077627),new i(L[40],1290863460),new i(L[41],3158454273),new i(L[42],3505952657),new i(L[43],106217008),new i(L[44],3606008344),new i(L[45],1432725776),new i(L[46],1467031594),new i(L[47],851169720),new i(L[48],3100823752),new i(L[49],1363258195),new i(L[50],3750685593),new i(L[51],3785050280),new i(L[52],3318307427),new i(L[53],3812723403),new i(L[54],2003034995),new i(L[55],3602036899),new i(L[56],1575990012),new i(L[57],1125592928),new i(L[58],2716904306),new i(L[59],442776044),new i(L[60],593698344),new i(L[61],3733110249),new i(L[62],2999351573),new i(L[63],3815920427),new i(3391569614,3928383900),new i(3515267271,566280711),new i(3940187606,3454069534),new i(4118630271,4000239992),new i(116418474,1914138554),new i(174292421,2731055270),new i(289380356,3203993006),new i(460393269,320620315),new i(685471733,587496836),new i(852142971,1086792851),new i(1017036298,365543100),new i(1126000580,2618297676),new i(1288033470,3409855158),new i(1501505948,4234509866),new i(1607167915,987167468),new i(1816402316,1246189591)],W=[new i(0,1),new i(0,32898),new i(2147483648,32906),new i(2147483648,2147516416),new i(0,32907),new i(0,2147483649),new i(2147483648,2147516545),new i(2147483648,32777),new i(0,138),new i(0,136),new i(0,2147516425),new i(0,2147483658),new i(0,2147516555),new i(2147483648,139),new i(2147483648,32905),new i(2147483648,32771),new i(2147483648,32770),new i(2147483648,128),new i(0,32778),new i(2147483648,2147483658),new i(2147483648,2147516545),new i(2147483648,32896),new i(0,2147483649),new i(2147483648,2147516424)],Y=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]],void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()},function(e,t,n){const r=n(4),o=n(3);String.prototype.format=function(){var e=arguments;return this.replace(/{(\d+)}/g,function(t,n){return void 0!==e[n]?e[n]:t})},Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e};class s{constructor(e){this.level=e,e||(this.level=s.DEBUG),this.DEBUG=0,this.INFO=1,this.WARN=2,this.ERROR=3}debug(){this._log(this.DEBUG,...arguments)}info(){this._log(this.INFO,...arguments)}warn(){this._log(this.WARN,...arguments)}error(){this._log(this.ERROR,...arguments)}log(e){this._log(e,...Array.prototype.slice.call(arguments,1))}_log(e){if(!(e<this.level)){var t=Array.prototype.slice.call(arguments,1),n="UNKNOWN";e==this.DEBUG&&(n="DEBUG"),e==this.INFO&&(n="INFO"),e==this.WARN&&(n="WARN"),e==this.ERROR&&(n="ERROR"),t.splice(0,0,"["+n+"]"),console.log((new Date).format("yyyy/MM/dd hh:mm:ss.S"),...this._format(t))}}_format(e){e=Array.prototype.slice.call(e);var t=this._getStackInfo(2);if(t){var n=t.relativePath+":"+t.line;"string"==typeof e[0]?e[0]=n+" "+e[0]:e.unshift(n)}return e}_getStackInfo(e){var t=(new Error).stack.split("\n").slice(3),n=t[e]||t[0],r=/at\s+(.*)\s+\((.*):(\d*):(\d*)\)/gi.exec(n)||/at\s+()(.*):(\d*):(\d*)/gi.exec(n);if(r&&5===r.length)return{method:r[1],relativePath:r[2].replace(/^.*[\\\/]/,""),line:r[3],pos:r[4],file:r[2],stack:t.join("\n")}}}var i,a=new s(s.INFO),u="undefined"==typeof window;u?i=n(!function(){var e=new Error("Cannot find module 'ws'");throw e.code="MODULE_NOT_FOUND",e}()):(i=window.WebSocket)||(i=window.MozWebSocket);class l{constructor(e){e.startsWith("ws://")||e.startsWith("wss://")||(e="ws://"+e),this.address=e,this.socket=null,this.heartbeatInterval=3e4,this.ticketTable={},this.connectPromise=null,this.autoReconnect=!0,this.reconnectInterval=3e3,this.authEnabled=!1,this.apiKey="",this.secretKey="",this.onopen=null,this.onclose=null,this.onerror=null,this.onmessage=null,this.beforeSend=null,this.heartbeator=null,this.heartbeatMessage=null,this.heartbeatInterval=3e4}enableAuth(e,t,n=!0){this.authEnabled=n,this.apiKey=e,this.secretKey=t}}l.prototype.connect=function(){if(null!=this.socket&&null!=this.connectPromise)return this.connectPromise;var e,t;a.debug("Trying to connect to "+this.address),this.connectPromise=new Promise((n,r)=>{e=n,t=r});try{this.socket=new i(this.address)}catch(e){return t(e),this.connectPromise}var n=this;return this.socket.onopen=function(t){a.debug("Connected to "+n.address),e&&e(),n.onopen&&n.onopen(n),null!=n.heartbeatMessage&&(n.heartbeator=setInterval(function(){try{n.send(n.heartbeatMessage)}catch(e){a.warn(e)}},n.heartbeatInterval))},this.socket.onclose=function(e){n.connectPromise=null,clearInterval(n.heartbeat),n.onclose&&n.onclose(),n.autoReconnect&&(n.connectTrying=setTimeout(function(){try{n.connect()}catch(e){}},n.reconnectInterval))},this.socket.onmessage=function(e){var t=JSON.parse(e.data),r=null;t.headers&&(r=t.headers.id);var o=n.ticketTable[r];o?(o.response=t,o.resolve&&(o.resolve(t),delete n.ticketTable[r])):n.onmessage&&n.onmessage(t)},this.socket.onerror=function(e){a.error("Error: "+e)},this.connectPromise},l.prototype.close=function(){this.connectPromise=null,clearInterval(this.heartbeat),this.connectTrying&&clearTimeout(this.connectTrying),this.socket.onclose=function(){},this.autoReconnect=!1,this.socket.close(),this.socket=null},l.prototype.active=function(){return this.socket&&this.socket.readyState==i.OPEN},l.prototype.send=function(e,t){t||(t=this.beforeSend),null!=t&&t(e),this.authEnabled&&d(this.apiKey,this.secretKey,e);var n=JSON.stringify(e);this.socket.send(n)},l.prototype.invoke=function(e,t){var n=this,r=new class{constructor(e,t){this.id="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),e.headers||(e.headers={}),e.headers.id=this.id,this.request=e,this.response=null,this.resolve=t}}(e);this.ticketTable[r.id]=r;var o=new Promise((e,t)=>{n.active()?(r.resolve=e,r.response&&(r.resolve(r.reponse),delete this.ticketTable[r.id])):t(new Error("socket is not open, invalid"))});return this.send(e,t),o};class h{constructor(){this.authEnabled=!1,this.apiKey="",this.secretKey=""}invoke(e,t){t&&t(e),this.authEnabled&&d(this.apiKey,this.secretKey,e);var n=e.method;n||(n="POST");const r=new XMLHttpRequest;var o,s;const i=new Promise((e,t)=>{o=e,s=t});for(var a in r.onload=(e=>{var t=r.responseText;if(o){var n=r.getResponseHeader("content-type");if(n||(n=r.getResponseHeader("Content-Type")),n&&n.startsWith("application/json"))try{t=JSON.parse(t)}catch(e){}o(t)}}),r.onerror=(e=>{s&&s(e)}),r.open(n,e.url),e.headers)r.setRequestHeader(a,e.headers[a]);return r.send(JSON.stringify(e.body)),i}}class c extends l{constructor(e){super(e),this.heartbeatMessage={headers:{cmd:"ping"}},this.mqHandlerTable={},this.onmessage=(e=>{e.headers||a.warn("missing headers in message: "+JSON.stringify(e));var t=e.headers.mq,n=e.headers.channel;null!=t&&null!=n||a.warn("missing mq or channel in message headers: "+JSON.stringify(e));var r=this.mqHandlerTable[t];if(null==r)return;var o=r[n];if(null==o)return;const s=e.headers.window;if(o.handler(e),s&&s<=o.window/2){const e=new f;e.headers.cmd="sub",e.headers.mq=t,e.headers.channel=n,e.headers.window=o.window,e.headers.ack=!1,this.send(e,o.beforesend)}})}addMqHandler(e,t,n=null,r=1,o=null){var s=this.mqHandlerTable[e];null==s&&(s={},this.mqHandlerTable[e]=s),s[t]={handler:n,window:r,beforesend:this.beforeSend}}}class f{constructor(){this.headers={}}replace(e){for(var t in this)delete this[t];for(var t in e)this[t]=e[t]}}function d(e,t,n){delete n.headers.signature,n.headers.apiKey=e;const s=o(n);var i=new r("SHA-256","TEXT");i.setHMACKey(t,"TEXT"),i.update(s);var a=i.getHMAC("HEX");n.headers.signature=a}var p='\n<html><head>\n<meta http-equiv="Content-type" content="text/html; charset=utf-8">\n<title>{0} JS</title>\n{1}\n\n<script>  \nvar rpc; \nfunction init(){\n\trpc = new RpcClient(null,"{0}"); \n} \n<\/script> \n<script async src="https://unpkg.com/zbus/zbus.min.js" onload="init()"><\/script>\n\n</head>\n\n<div> \n<table class="table">\n<thead>\n<tr class="table-info"> \n    <th class="urlPath">URL Path</th>\n    <th class="returnType">Return Type</th>\n    <th class="methodParams">Method and Params</th> \n</tr>\n<thead>\n<tbody>\n{2}\n</tbody>\n</table> </div> </body></html>\n',w="\n<style type=\"text/css\">\nbody {\n    font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;\n    font-size: 1rem;\n    font-weight: 400;\n    line-height: 1.5;\n    color: #292b2c;\n    background-color: #fff;\n    margin: 0px;\n    padding: 0px;\n}\ntable {  background-color: transparent;  display: table; border-collapse: separate;  border-color: grey; }\n.table { width: 100%; max-width: 100%;  margin-bottom: 1rem; }\n.table th {  height: 30px; }\n.table td, .table th {    border-bottom: 1px solid #eceeef;   text-align: left; padding-left: 16px;} \nth.urlPath {  width: 10%; }\nth.returnType {  width: 10%; }\nth.methodParams {   width: 80%; } \ntd.returnType { text-align: right; }\nthead { display: table-header-group; vertical-align: middle; border-color: inherit;}\ntbody { display: table-row-group; vertical-align: middle; border-color: inherit;}\ntr { display: table-row;  vertical-align: inherit; border-color: inherit; }\n.table-info, .table-info>td, .table-info>th { background-color: #dff0d8; }\n.url { margin: 4px 0; padding-left: 16px;}\n</style>\n",b='\n<tr> \n    <td class="urlPath"><a href="{0}">{0}</a></td>\n    <td class="returnType"></td>\n    <td class="methodParams">\n        <code><strong><a href="{0}">{1}</a></strong>({2})</code>\n    </td> \n</tr>\n';function y(){var e="";for(var t of arguments)e+="/"+t;return(e=e.replace(/[//]+/g,"/")).length>1&&e.endsWith("/")&&(e=e.substr(0,e.length-1)),e}class g{constructor(e){this.processor=e}index(){var e=this.processor,t=new f;t.status=200,t.headers["content-type"]="text/html; charset=utf8";var n="";for(var r in e.urlPath2Methods){var o=e.urlPath2Methods[r];if(o.docEnabled){var s=o.paramsString,i=y(e.urlPrefix,o.urlPath);n+=b.format(i,o.method,s)}}return t.body=p.format(e.urlPrefix,w,n),t}}function v(e,t,n){e.status=t,e.headers["content-type"]="text/plain; charset=utf8",e.body=n}class m{constructor(){this.urlPath2Methods={},this.urlPrefix="",this.docModule="doc",this.docEnabled=!0}_matchMethod(e,t){e||(e="");var n=this.module2methods[e];return null==n?null:n[t]}_parseParams(e){var t=e.split("?"),n=t[0].split("/").filter(e=>e.length>0),r={},o=t.slice(1).join("?").split("&").filter(e=>e.length>0);for(var s of(o.length>0&&n.push(r),o)){var i=s.split("=");i.length>1&&(r[i[0]]=i[1])}return n}process(e,t){var n=e.url;if(n){var r=null,o=null,s=0;for(var i in this.urlPath2Methods)n.startsWith(i)&&i.length>s&&(s=i.length,o=i,r=this.urlPath2Methods[i]);if(null!=r){var a=[];if(e.body)e.body instanceof Array||(e.body=JSON.parse(e.body)),a=e.body;else{var u=n.substr(o.length);a=this._parseParams(u)}var l=r.instance.apply(r.target,a);l instanceof f?t.replace(l):(t.status=200,t.headers["content-type"]="application/json; charset=utf8;",t.body=l)}else v(t,404,`Url=${n} Not Found`)}else v(t,400,"Missing url in request")}_addMethod(e,t,n,r){e=y(e);var o=t.name;void 0===r&&(r=!0);var s={urlPath:e,method:o,paramsString:"",instance:t,target:n,docEnabled:r};return e in this.urlPath2Methods&&a.warn(`Url=${e}, Method=${o} exists`),this.urlPath2Methods[e]=s,s}mount(e,t,n,r){if("function"!=typeof t){var o=this._getAllMethods(t);for(var s of o){var i=t[s],a=y(e,i.name);this._addMethod(a,i,t,r).paramsString=this._getFnParamNames(i.toString())}}else this._addMethod(e,t,n,r)}mountDoc(){if(this.docEnabled){var e=new g(this);this.mount(this.docModule,e.index,e,!1)}}urlEntryList(e){var t=[];for(var n in this.urlPath2Methods){var r=this.urlPath2Methods[n],o={url:y(this.urlPrefix,r.urlPath),mq:e};t.push(o)}return t}_getFnParamNames(e){return e.toString().match(/\(.*?\)/)[0].replace(/[()]/gi,"").replace(/\s/gi,"").split(",")}_getAllMethods(e){let t=new Set;for(var n in e){"function"==typeof e[n]&&t.add(n)}for(;(e=Reflect.getPrototypeOf(e))&&e.constructor!=Object;){Reflect.ownKeys(e).forEach(e=>{if("constructor"==e)return!1;t.add(e)})}return t}}class x{constructor(e){this.mqServerAddress=null,this.mq=null,this.mqType="memory",this.channel=null,this.clientCount=1,this.authEnabled=!1,this.apiKey="",this.secretKey="",this.clients=[],this.processor=e}enableAuth(e,t,n=!0){this.authEnabled=n,this.apiKey=e,this.secretKey=t}start(){if(null==this.mqServerAddress)throw new Error("missing mqServerAddress");if(null==this.mq)throw new Error("missing mq");null==this.channel&&(this.channel=this.mq),this.processor.mountDoc();for(var e=this.processor,t=0;t<this.clientCount;t++){var n=new c(this.mqServerAddress);this.authEnabled&&(n.authEnabled=this.authEnabled,n.apiKey=this.apiKey,n.secretKey=this.secretKey),n.onopen=(()=>{var e={};e.headers={cmd:"create",mq:this.mq,mqType:this.mqType,channel:this.channel},n.invoke(e).then(e=>{a.info(e)}),(e={}).headers={cmd:"sub",mq:this.mq,channel:this.channel},n.invoke(e).then(e=>{a.info(e)}),(e={}).headers={cmd:"bind",mq:this.mq},e.body=this.processor.urlEntryList(this.mq),n.invoke(e).then(e=>{a.info(e)})}),n.addMqHandler(this.mq,this.channel,t=>{var r=t.headers.id,o=t.headers.source,s=t.url,i=e.urlPrefix;s&&s.startsWith(i)&&(s=y("/",s=s.substr(i.length)),t.url=s);var u=new f;try{e.process(t,u)}catch(e){a.error(e),u.headers["content-type"]="text/plain; charset=utf8;",v(u,500,e)}u.headers.cmd="route",u.headers.target=o,u.headers.id=r,null==u.status&&(u.status=200),n.send(u)}),n.connect(),this.clients.push(n)}}close(){for(var e of this.clients)e.close();this.clients=[]}}class E extends Function{constructor(e,t){super(),this.client=e,this.urlPrefix=t;const n=this;return this.proxy=new Proxy(this,{get:function(e,t){return t in e?e[t]:n.proxyMethod(t)},apply:function(e,t,r){return n.proxyMethod("")(...r)}}),this.proxy}invoke(){if(arguments.length<1)throw"Missing request parameter";var e,t=arguments[0];if("string"==typeof t){for(var n=[],r=arguments.length,o=1;o<r;o++)n.push(arguments[o]);(e=new f).url=y(this.urlPrefix,t),e.body=n}else t.constructor==f?e=t:(e=new f).replace(t);return this.client._invoke(e)}proxyMethod(e){const t=this;return function(){const n=arguments.length,r=[];for(var o=0;o<n;o++)r.push(arguments[o]);const s=new f;return s.url=y(t.urlPrefix,e),s.body=r,t.invoke(s)}}}class A{constructor(e,t){e?(this.wsClient=new l(e),this.wsClient.heartbeatMessage={headers:{cmd:"ping"}}):this.ajaxClient=new h,this.urlPrefix=t,this.urlPrefix||(this.urlPrefix=""),this.authEnabled=!1,this.apiKey="",this.secretKey="",this.defaultInvoker=this.module("");const n=this;return this.proxy=new Proxy(this,{get:function(e,t){return t in e?e[t]:n.module(t)}}),this.proxy}enableAuth(e,t,n=!0){this.authEnabled=n,this.apiKey=e,this.secretKey=t}module(e){if(this.authEnabled){var t=this.wsClient;this.ajaxClient&&(t=this.ajaxClient),t.authEnabled=this.authEnabled,t.apiKey=this.apiKey,t.secretKey=this.secretKey}var n=y(this.urlPrefix,e);return new E(this,n)}invoke(){return this.defaultInvoker.invoke(...arguments)}_invoke(e){return this.wsClient?this._wsInvoke(e):this.ajaxClient.invoke(e)}_wsInvoke(e){return(this.wsClient.active()?this.wsClient.invoke(e):this.wsClient.connect().then(()=>this.wsClient.invoke(e))).then(e=>{if(200!=e.status)throw e.body;return e.body})}close(){this.wsClient&&(this.wsClient.close(),this.wsClient=null)}}u?(e.exports.Logger=s,e.exports.logger=a,e.exports.WebsocketClient=l,e.exports.MqClient=c,e.exports.RpcProcessor=m,e.exports.RpcClient=A,e.exports.RpcServer=x,e.exports.Message=f):(window.Logger=s,window.logger=a,window.WebsocketClient=l,window.MqClient=c,window.RpcProcessor=m,window.RpcClient=A,window.RpcServer=x,window.Message=f)}]);